---
title: "go-shopifyã§å‡ºå“ä¸­ã®å•†å“ã®æƒ…å ±ã®CRUDã‚’è¡Œã†æ¤œè¨¼"
emoji: "ğŸš"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["go"]
published: true
---

# ã¯ã˜ã‚ã«

## ç›®æ¨™

Shopify Admin API ã‚’ go è¨€èªã§æ“ä½œã™ã‚‹ãŸã‚ã®éå…¬å¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹ã€‚
API ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ã¿ã§ã‚‚åŒæ§˜ã®ã“ã¨ãŒè¡Œãˆã‚‹ãŒã€ç°¡ç•¥åŒ–ã™ã‚‹ãŸã‚ä»Šå›ã¯`go-shopify`ã‚’ç”¨ã„ã¦å‡ºå“ä¸­ã®å•†å“ã®æƒ…å ±ã®æ“ä½œã‚’è¡Œã†ã€‚

[bold-commerce/go-shopify](https://github.com/bold-commerce/go-shopify)

## å‰æ

å•†å“ã®æƒ…å ±ã‚’æ“ä½œã™ã‚‹`Product`ã®ã¿ã®æ¤œè¨¼ã‚’è¡Œã†

Shopify ä¸Šã§ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆã‚’è¡Œã„ã€`APIã‚­ãƒ¼`ã¨`ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰`ã®å–å¾—ã‚’è¡Œã£ã¦ã„ã‚‹ã€‚

# å®Ÿè£…

## åˆæœŸåŒ–

API ã‚­ãƒ¼ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç”¨ã„ã¦ä½¿ã†å ´åˆã¯ã€`goshopify.NewClient()`ã®ç¬¬ 3 å¼•æ•°ã¯ç©ºç™½ã«ã™ã‚‹ã€‚

```Go
app := goshopify.App{
    ApiKey:   "APIã‚­ãƒ¼",
    Password: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
}
client := goshopify.NewClient(app, "ã‚·ãƒ§ãƒƒãƒ—ãƒãƒ¼ãƒ ", "")
```

## å•†å“ãƒªã‚¹ãƒˆã®å–å¾—

```go
itemList, err := client.Product.List(nil)
if err != nil {
	log.Panicln(err)
}

for _, i := range itemList {
	fmt.Println(i.Title)
}
```

## ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ ID ã‚’æŒ‡å®šã—ã¦æƒ…å ±ã‚’å–å¾—ã™ã‚‹

```go
var op interface{}

var productID int64
productID = 7255225860258

item, err := client.Product.Get(productID, op)
if err != nil {
	log.Panicln(err)
}

fmt.Println(item.Title)
```

## ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ ID ã‚’æŒ‡å®šã—ã¦æƒ…å ±ã®æ›´æ–°ã‚’è¡Œã†

`Product`ã®æ§‹é€ ä½“ã‚’æ¸¡ã™ã€‚
æ¸¡ã—ã¦ã„ãªã„æƒ…å ±ã¯ä¸Šæ›¸ãã•ã‚Œãªã‹ã£ãŸã€‚

```go
var p goshopify.Product
p.ID = 7254096478370
p.Title = "test"

_, err := client.Product.Update(p)
if err != nil {
	log.Panic(err)
}
```

## ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ ID ã‚’æŒ‡å®šã—ã¦å•†å“ã®ç™»éŒ²ã‚’è¡Œã†

ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã§ä½œæˆã•ã‚Œã‚‹ã®ã§æ³¨æ„

```go
var p goshopify.Product
p.Title = "test"

_, err := client.Product.Create(p)
if err != nil {
	log.Panic(err)
}
```

## ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ ID ã‚’æŒ‡å®šã—ã¦å•†å“ã®å‰Šé™¤ã‚’è¡Œã†

```go
var productID int64
productID = 7255225860258

err := client.Product.Delete(productID)
if err != nil {
	log.Panicln(err)
}
```

## Product æ§‹é€ ä½“

```go
type Product struct {
	ID                             int64           `json:"id,omitempty"`
	Title                          string          `json:"title,omitempty"`
	BodyHTML                       string          `json:"body_html,omitempty"`
	Vendor                         string          `json:"vendor,omitempty"`
	ProductType                    string          `json:"product_type,omitempty"`
	Handle                         string          `json:"handle,omitempty"`
	CreatedAt                      *time.Time      `json:"created_at,omitempty"`
	UpdatedAt                      *time.Time      `json:"updated_at,omitempty"`
	PublishedAt                    *time.Time      `json:"published_at,omitempty"`
	PublishedScope                 string          `json:"published_scope,omitempty"`
	Tags                           string          `json:"tags,omitempty"`
	Options                        []ProductOption `json:"options,omitempty"`
	Variants                       []Variant       `json:"variants,omitempty"`
	Image                          Image           `json:"image,omitempty"`
	Images                         []Image         `json:"images,omitempty"`
	TemplateSuffix                 string          `json:"template_suffix,omitempty"`
	MetafieldsGlobalTitleTag       string          `json:"metafields_global_title_tag,omitempty"`
	MetafieldsGlobalDescriptionTag string          `json:"metafields_global_description_tag,omitempty"`
	Metafields                     []Metafield     `json:"metafields,omitempty"`
	AdminGraphqlAPIID              string          `json:"admin_graphql_api_id,omitempty"`
}
```

# å‚è€ƒ

go-shopify/product.go
https://github.com/bold-commerce/go-shopify/blob/master/product.go
